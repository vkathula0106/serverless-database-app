(this["webpackJsonpserverless-database-app"]=this["webpackJsonpserverless-database-app"]||[]).push([[8],{43:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var r=a(14),n=a(2),l=a.n(n),s=a(40).q.p((function(e){return Object(r.b)({marginTop:5,marginBottom:-5,fontSize:12,fontWeight:500,color:"red",height:0,overflow:"visible"},e.theme.errorText?Object(r.b)({},e.theme.errorText):{})}));function i(e){return e.value&&e.value.length?l.a.createElement(s,Object.assign({},e),e.value):l.a.createElement(l.a.Fragment,null)}},46:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(1),s=a(2),i=a.n(s),o=a(42),m=a(43),c=a(14),u=a(40),d=u.q.div({position:"relative",display:"inline",width:"100%",maxWidth:"100%",cursor:"pointer","&:after":{content:"''",width:0,height:0,position:"absolute",pointerEvents:"none",top:".3em",right:".75em",borderTop:"8px solid black",opacity:.5,borderLeft:"5px solid transparent",borderRight:"5px solid transparent"}}),b=u.q.select({WebkitAppearance:"none",MozAppearance:"none",appearance:"none",padding:"1em 2em 1em 1em",border:"none",width:"100%",fontFamily:"inherit",fontSize:"inherit",cursor:"pointer",outline:"none","&::-ms-expand":{display:"none"}}),g=u.q.option((function(e){return Object(c.b)({width:"100%"},e.theme.selectOption?Object(c.b)({},e.theme.selectOption):{})}));var p=Object(u.q)((function(e){return i.a.createElement(d,null,i.a.createElement(b,Object.assign({},e,e.register(),{defaultValue:""}),i.a.createElement(g,{key:"empty-option",value:"",disabled:!0,hidden:!0,style:{display:"none"}}),e.options.map((function(e){return i.a.createElement(g,{key:"option"+e},e)}))))}))((function(e){return Object(c.b)({boxSizing:"border-box"},e.theme.genderSelect?Object(c.b)({},e.theme.genderSelect):{})})),f=u.q.div({position:"relative"}),h=Object(u.q)(o.e)((function(e){return Object(c.b)({},e.theme.genderSelectLabel?Object(c.b)({},e.theme.genderSelectLabel):{})}));function E(e){return i.a.createElement(f,null,i.a.createElement(h,{htmlFor:"select-gender"},"Gender *"),i.a.createElement(p,Object.assign({id:"select-gender"},e,{options:["Male","Female","Prefer not to say"]})))}t.default=function(e){var t,a,r,d,b,g,p,f,h=e.setCurrentPage,v=e.dictionary,w=e.signUpFields,x=Object(o.k)(),N=x.register,O=x.handleSubmit,y=x.formState,k=y.errors,S=y.isSubmitting,j=x.reset,z=Object(c.f)(),F=z.signUp,L=z.signIn,B=function(){var e=Object(l.a)(n.a.mark((function e(t){var a,r,l,s,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.email&&t.password&&t.passwordConfirm){e.next=2;break}return e.abrupt("return");case 2:if(t.password===t.passwordConfirm){e.next=6;break}return u.t.error(v.errorPasswordsDoNotMatch),j(),e.abrupt("return");case 6:a={createdAt:(new Date).toISOString()},r=0,l=["firstName","lastName","fullName","dateOfBirth","gender","phoneNumber"];case 8:if(!(r<l.length)){e.next=20;break}if(s=l[r],!w[s]){e.next=17;break}if(!t[s]){e.next=15;break}a[s]=""+t[s],e.next=17;break;case 15:return u.t.error("Missing sign up field value"),e.abrupt("return");case 17:r++,e.next=8;break;case 20:return e.next=22,F(t.email,t.password,a);case 22:if(!(i=e.sent).success){e.next=29;break}return h("SignIn"),e.next=27,L(t.email,t.password);case 27:e.next=30;break;case 29:"BadFormat"===i.errorCode?(j(),u.t.error(v.errorBadInputFormat)):"BadPasswordLength"===i.errorCode?u.t.error(v.errorPasswordTooShort):"UserExists"===i.errorCode&&(j(),u.t.error(v.errorUserAlreadyExists));case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C={minLength:{value:8,message:"Password must be at least 8 characters long"},maxLength:{value:100,message:"Password too long"},pattern:{value:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{7,}$/gm,message:"Must contain a digit and uppercase and lowercase letters"}};return i.a.createElement(o.b,{onSubmit:O(B)},i.a.createElement(o.c,null,v.signUpHeader),i.a.createElement(o.g,{size:"medium"}),i.a.createElement(o.a,{register:function(){return N("email")},label:v.newEmailLabel,disabled:S}),w.firstName&&i.a.createElement(s.Fragment,null,i.a.createElement(o.g,{size:"xlarge"}),i.a.createElement(o.d,{register:function(){return N("firstName","boolean"===typeof w.firstName?{}:w.firstName)},label:v.newFirstNameLabel||"",disabled:S}),i.a.createElement(m.a,{value:null==(t=k.firstName)?void 0:t.message})),w.lastName&&i.a.createElement(s.Fragment,null,i.a.createElement(o.g,{size:"xlarge"}),i.a.createElement(o.d,{register:function(){return N("lastName","boolean"===typeof w.lastName?{}:w.lastName)},label:v.newLastNameLabel||"",disabled:S}),i.a.createElement(m.a,{value:null==(a=k.lastName)?void 0:a.message})),w.fullName&&i.a.createElement(s.Fragment,null,i.a.createElement(o.g,{size:"xlarge"}),i.a.createElement(o.d,{register:function(){return N("fullName","boolean"===typeof w.fullName?{}:w.fullName)},label:v.newFullNameLabel||"",disabled:S}),i.a.createElement(m.a,{value:null==(r=k.fullName)?void 0:r.message})),w.dateOfBirth&&i.a.createElement(s.Fragment,null,i.a.createElement(o.g,{size:"xlarge"}),i.a.createElement(o.d,{type:"date",register:function(){return N("dateOfBirth","boolean"===typeof w.dateOfBirth?{}:w.dateOfBirth)},label:v.newDateOfBirthLabel||"",disabled:S,style:{overflow:"hidden"}}),i.a.createElement(m.a,{value:null==(d=k.dateOfBirth)?void 0:d.message})),w.gender&&i.a.createElement(s.Fragment,null,i.a.createElement(o.g,{size:"xlarge"}),i.a.createElement(E,{register:function(){return N("gender","boolean"===typeof w.gender?{}:w.gender)},disabled:S}),i.a.createElement(m.a,{value:null==(b=k.gender)?void 0:b.message})),w.phoneNumber&&i.a.createElement(s.Fragment,null,i.a.createElement(o.g,{size:"xlarge"}),i.a.createElement(o.d,{type:"tel",label:v.newPhoneNumberLabel||"",register:function(){return N("phoneNumber","boolean"===typeof w.phoneNumber?{}:w.phoneNumber)},disabled:S}),i.a.createElement(m.a,{value:null==(g=k.phoneNumber)?void 0:g.message})),i.a.createElement(o.g,{size:"xlarge"}),i.a.createElement(o.f,{register:function(){return N("password",C)},label:v.newPasswordLabel,autoComplete:"new-password",disabled:S}),i.a.createElement(m.a,{value:null==(p=k.password)?void 0:p.message}),i.a.createElement(o.g,{size:"xlarge"}),i.a.createElement(o.f,{register:function(){return N("passwordConfirm",C)},label:v.confirmNewPasswordLabel,autoComplete:"new-password",disabled:S}),i.a.createElement(m.a,{value:null==(f=k.passwordConfirm)?void 0:f.message}),i.a.createElement(o.g,{size:"xlarge"}),i.a.createElement(o.i,{disabled:S},v.signUpSubmitButton),i.a.createElement(o.j,{onClick:function(e){return h("SignIn")},disabled:S},v.backToSignIn))}}}]);
//# sourceMappingURL=8.eff5eee6.chunk.js.map